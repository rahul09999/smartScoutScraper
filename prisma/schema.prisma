// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Seller {
  id                        Int       @id @default(autoincrement())
  sellerEmails              String?
  note                      String?
  collectionExcluded        Boolean?
  name                      String?
  primaryCategoryId         Int?
  primaryCategoryIdString   String?
  primarySubCategoryId      Int?
  stateFromMerchant         String?
  whoIsRecord               String?
  legalName                 String?
  disposition               String?
  marketplace               String    // The marketplace code (US, UK, etc.)
  qualifiedBrands           Int?
  brandOwnership            String?
  singleBrand               Boolean?
  brandNameMatch            Boolean?
  closeBrand                Boolean?
  checkedForEmails          Boolean?
  haveEmails                Boolean?
  email                     String?
  contactedDate             DateTime?
  contacted                 Boolean?
  profilingStatus           String?
  confirmedEmail            String?
  phone                     String?
  confirmedPhone            String?
  confirmedRealWorldName    String?
  lastUpdated               DateTime?
  dateUpdated               DateTime?
  primaryCategory           String?
  primarySubCategory        String?
  businessName              String?
  amazonSellerId            String?
  estimateSales             Float?
  avgPrice                  Float?
  percentFba                Float?
  numberReviewsLifetime     Int?
  numberReviews30Days       Int?
  numberWinningBrands       Int?
  numberAsins               Int?
  numberTopAsins            Int?
  street                    String?
  city                      String?
  state                     String?
  country                   String?
  zipCode                   String?
  numBrands1000             Int?
  moMGrowth                 Float?
  threeMonthGrowth          Float?
  sixMonthGrowth            Float?
  yearGrowth                Float?
  moMGrowthCount            Int?
  sixMonthGrowthCount       Int?
  isSuspended               Boolean?
  lastSuspendedDate         DateTime?
  startedSellingDate        DateTime?
  // ScrapedMarketplace        String?
  dateScraped               DateTime  @default(now())

  // @@unique([amazonSellerId, marketplace])
  @@index([marketplace])
  @@index([primaryCategoryId])
}

model CategoryMapping {
  id                Int     @id @default(autoincrement())
  marketplace       String
  categoryId        Int
  categoryString    String
  
  @@unique([marketplace, categoryId])
}